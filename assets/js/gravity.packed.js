/*************************************************************
 * This script is developed by Arturs Sosins aka ar2rsawseen, http://webcodingeasy.com
 * Feel free to distribute and modify code, but keep reference to its creator
 *
 * Gravity is a box2dweb wrapper for HTML elements. It provides a way to apply physics
 * to HTML elements, define gravity, handle collisions, apply different parameters as
 * friction, restitution, density and even drag physical HTML element bodies.
 *
 * For more information, examples and online documentation visit: 
 * http://webcodingeasy.com/JS-classes/Apply-physics-to-HTML-elements
**************************************************************/
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('3 34=Q(q){3 r=15.2h.X.3i,25=15.1w.25,2e=15.1f.2e,1B=15.1f.1B,2a=15.1f.2a,2r=15.1f.2r,2g=15.1f.2g,2n=15.1w.1C.2n,1Y=15.1w.1C.1Y,2w=15.1w.1C.2w,1A=15.1f.1A,2c=15.1f.3a.2c,2f=15.1w.1C.2f,2u=15.2h.X.2u,28=15.1f.28;3 R=30;3 s={2x:0,2y:9.8,1E:1b,1M:1b,1V:1e,2b:17,1u:"4"};3 t,1d,1i,1l,26,1z,1I,1m,22;3 u=[];3 v=Q(){1k(3 i 29 q){s[i]=q[i]}1d=M();O(1p,"1d",Q(){1d=M()});3 d;6(s.1u=="3e"){d=L();d.x=0;d.y=0}12 6(s.1u=="4"){d=K();d.x=0;d.y=0}12{3 j=(13 s.1u=="1o")?4.1r(s.1u):s.1u;6(j&&j.27){d={};3 k=j.27();d.y=k.1a+1d.y;d.x=k.1c+1d.x;d.S=(k.S)?k.S:(k.1c-k.1Q);d.T=(k.T)?k.T:(k.1a-k.1R)}}t=14 2g(14 r(s.2x,s.2y),17);6(s.1V&&d){3 l=K();3 m=4.36("3c");m.2j("S",l.S+"1h");m.2j("T",l.T+"1h");m.W.1K="20";m.W.1a="2o";m.W.1c="2o";m.W.3q=-1;4.7.3k(m);3 n=14 1A();n.3u(m.3y("2d"));n.3F(R);n.3J(0.5);n.3w(1A.3D|1A.3H);n.3n(1.0);t.3A(n)}6(d){3 o={1W:17,1G:0.2,1S:0.1,1T:1,24:1e};d.T=X.2m(d.T/2);d.S=X.2m(d.S/2);A(d.x,d.y+d.T,1,d.T,"1j",o);A(d.x+d.S*2,d.y+d.T,1,d.T,"1j",o);A(d.x+d.S,d.y,d.S,1,"1j",o);A(d.x+d.S,d.y+d.T*2,d.S,1,"1j",o)}6(s.1E||s.1M){3 p=14 28();6(s.1E){p.3g=Q(a){3 b=[];1k(f=a;f;f=f.1O()){3 c=f.2p();3 d=f.2s();3 e=c.1q();3 g=d.1q();6((e.U()&&13 e.U().Y!="16")&&(g.U()&&13 g.U().Y!="16")){3 h=[];6(e.U().Y=="1j"){h.19(e.U().Y)}12{h.19(u[e.U().Y].V)}6(g.U().Y=="1j"){h.19(g.U().Y)}12{h.19(u[g.U().Y].V)}b.19(h)}}6(b!=[]){s.1E(b)}}}6(s.1M){p.3s=Q(a){3 b=[];1k(f=a;f;f=f.1O()){3 c=f.2p();3 d=f.2s();3 e=c.1q();3 g=d.1q();6((e.U()&&13 e.U().Y!="16")&&(g.U()&&13 g.U().Y!="16")){3 h=[];6(e.U().Y=="1j"){h.19(e.U().Y)}12{h.19(u[e.U().Y].V)}6(g.U().Y=="1j"){h.19(g.U().Y)}12{h.19(u[g.U().Y].V)}b.19(h)}}6(b!=[]){s.1M(b)}}}t.35(p)}6(s.2b){O(4,"3T",Q(e){1z=17;H(e);O(4,"2i",H)},17);O(4,"3x",Q(){P(4,"2i",H);1z=1e;1i=16;1l=16},17)}};1n.49=Q(){1k(3 i 29 u){6(u[i].V.W.1K!="20"){u[i].V.W.1K="20";u[i].V.W.3j="0";u[i].V.W.4l="0";u[i].V.W.1a=u[i].1x.1a+"1h";u[i].V.W.1c=u[i].1x.1c+"1h";u[i].V.W.T=u[i].1x.T*2+"1h";u[i].V.W.S=u[i].1x.S*2+"1h"}}6(!22){22=41(G,3L/2A)}};1n.4h=Q(a,b){3 c={1W:1e,1G:0.2,1S:0.1,1T:1,24:1e};1k(3 d 29 b){c[d]=b[d]}a=(13 a=="1o")?4.1r(a):a;6(a){6(c.24){w(a,c)}12{z(a,c)}}};1n.3b=Q(a){a=(13 a=="1o")?4.1r(a):a;3 b=D(a);t.3X(u[b].7);3E u[b];F(a,"21"+b)};1n.4d=Q(a,b,c,x,y){a=(13 a=="1o")?4.1r(a):a;3 d=D(a);6(d!=1b){u[d].7.1J(17);3 e;6(x==16||y==16){e=u[d].7.1Z().23()}12{e={x:x,y:y}}u[d].7.3p(14 r(b,c),e)}};1n.3P=Q(a,b,c,x,y){a=(13 a=="1o")?4.1r(a):a;3 d=D(a);6(d!=1b){u[d].7.1J(17);3 e;6(x==16||y==16){e=u[d].7.1Z().23()}12{e={x:x,y:y}}u[d].7.45(14 r(b,c),e)}};1n.4j=Q(a,b){a=(13 a=="1o")?4.1r(a):a;3 c=D(a);u[c].7.1J(17);u[c].7.4n(b)};1n.4p=Q(a){a=(13 a=="1o")?4.1r(a):a;18 D(a)!=1b};3 w=Q(a,b){3 c=1e;1k(3 d=a.38;d;d=d.3B){6(d.3V==1){c=17;6(!w(d,b)){z(d,b)}}}18 c};3 z=Q(a,b){3 c=a.27();3 d={};d.1a=c.1a+1d.y;d.1R=c.1R+1d.y;d.1c=c.1c+1d.x;d.1Q=c.1Q+1d.x;d.S=(c.S)?c.S/2:(c.1c-c.1Q)/2;d.T=(c.T)?c.T/2:(c.1a-c.1R)/2;3 e={};e.V=a;e.1x=d;e.2l=d.T;e.2C=d.S;e.7=A(d.1c+d.S,d.1a+d.T,d.S,d.T,u.2K,b);E(a,"21"+u.2K);u.19(e)};3 A=Q(x,y,a,b,c,d){3 e=14 2a;e.1G=d.1G;e.1S=d.1S;e.1T=d.1T;e.2v=14 1Y;e.2v.3m(a/R,b/R);3 f=14 2e;6(d.1W){f.2G=1B.2O}12{f.2G=1B.3N}f.1K.1F(x/R,y/R);3 g=t.43(f);g.4b(e);g.4i({Y:c});18 g};3 B=Q(){3 a=t.3f();1k(7=a;7;7=7.1O()){6(7.U()&&13 7.U().Y!="16"){3 b=7.2E();1k(f=7.3Z();f;f=f.1O()){C(f.2I(),b,7.U().Y)}}}};3 C=Q(a,b,c){3I(a.2M()){4f 2f.3t:{6(u[c]){3 d=u[c].7.1Z().23();Z=b.47();u[c].V.W.4m="Z("+Z+"1y)";u[c].V.W.3R="Z("+Z+"1y)";u[c].V.W.4k="Z("+Z+"1y)";u[c].V.W.4o="Z("+Z+"1y)";u[c].V.W.4q="Z("+Z+"1y)";u[c].V.W.37="2k:2J.2U.2B(2Q=\'2Y 31\', 2t=\'"+X.1D(Z)+"\', 2F=\'"+(-X.1P(Z))+"\', 2N=\'"+X.1P(Z)+"\', 2S=\'"+X.1D(Z)+"\');";u[c].V.W.3l="2k:2J.2U.2B(2Q=\'2Y 31\', 2t=\'"+X.1D(Z)+", 2F=\'"+(-X.1P(Z))+"\', 2N=\'"+X.1P(Z)+"\', 2S=\'"+X.1D(Z)+"\');";u[c].V.W.1a=((d.y*R)-u[c].2l)+"1h";u[c].V.W.1c=((d.x*R)-u[c].2C)+"1h"}}3z}};3 D=Q(a){3 b=14 2W(\'\\s*21(.*)\\s*\');3 c=b.3d(a.1L);6(c!=1b){18 c[1]}12{18 1b}};3 E=Q(a,b){a.1L+=" "+b};3 F=Q(a,b){6(D(a,b)!=1b){3 c=14 2W(\'(\\\\s|^)\'+b+\'(\\\\s|$)\');a.1L=a.1L.3G(c,\' \')}};3 G=Q(){6(s.2b){6(1z&&(!1m)){3 a=I();6(a){3 b=14 2c();b.3Q=t.3Y();b.46=a;b.4a.1F(1i,1l);b.3r=17;b.3U=48.0*a.4e();1m=t.3M(b);a.1J(17)}}6(1m){6(1z){1m.4c(14 r(1i,1l))}12{t.42(1m);1m=1b}}}B();t.4g(1/2A,10,10);6(s.1V){t.39()}t.3W()};3 H=Q(e){e=N(e);1i=e.2D/R;1l=e.1U/R};3 I=Q(){26=14 r(1i,1l);3 a=14 25();a.3C.1F(1i-0.1H,1l-0.1H);a.44.1F(1i+0.1H,1l+0.1H);1I=1b;t.3o(J,a);18 1I};3 J=Q(a){6(a.1q().2M()!=1B.2O){6(a.2I().3O(a.1q().2E(),26)){1I=a.1q();18 1e}}18 17};3 K=Q(){3 a=14 1X();a.S=0;a.T=0;a.S=X.1g(X.1g(4.7.2L,4.11.2L),X.1g(4.7.2R,4.11.2R),X.1g(4.7.1s,4.11.1s));a.T=X.1g(X.1g(4.7.2q,4.11.2q),X.1g(4.7.2T,4.11.2T),X.1g(4.7.1N,4.11.1N));18 a};3 L=Q(){3 a=14 1X();a.S=0;a.T=0;6(13 1p.2H!=\'16\'){a.S=1p.2H,a.T=1p.3h}12 6(13 4.11!=\'16\'&&13 4.11.1s!=\'16\'&&4.11.1s!=0){a.S=4.11.1s,a.T=4.11.1N}12{a.S=4.2X(\'7\')[0].1s,a.T=4.2X(\'7\')[0].1N}18 a};3 M=Q(){3 x=0,y=0;6(13(1p.32)==\'33\'){y=1p.32;x=1p.3K}12 6(4.7&&(4.7.1t||4.7.1v)){y=4.7.1v;x=4.7.1t}12 6(4.11&&(4.11.1t||4.11.1v)){y=4.11.1v;x=4.11.1t}3 a=14 1X();a.x=x;a.y=y;18 a};3 N=Q(e){6(13 e.1U==\'16\'&&13 e.2z==\'33\'&&4.11){e.2D=e.2z+4.7.1t+4.11.1t;e.1U=e.3v+4.7.1v+4.11.1v};18 e};3 O=Q(a,b,c){6(a.2P){a.2P(b,c,1e)}12{a.3S(\'2V\'+b,c)}};3 P=Q(a,b,c){6(a.2Z)a.2Z(b,c,1e);12 a.40(\'2V\'+b,c)};v()}',62,275,'|||var|document||if|body|||||||||||||||||||||||||||||||||||||||||||||function||width|height|GetUserData|elem|style|Math|id|rotate||documentElement|else|typeof|new|Box2D|undefined|true|return|push|top|null|left|scroll|false|Dynamics|max|px|mouseX|bound|for|mouseY|mouseJoint|this|string|window|GetBody|getElementById|clientWidth|scrollLeft|boundaries|scrollTop|Collision|bounds|rad|isMouseDown|b2DebugDraw|b2Body|Shapes|cos|onBeginCollision|Set|restitution|001|selectedBody|SetAwake|position|className|onEndCollision|clientHeight|GetNext|sin|right|bottom|friction|density|pageY|debugDraw|fixed|Object|b2PolygonShape|GetWorldCenter|absolute|gravity_|interval|Copy|includeChild|b2AABB|mousePVec|getBoundingClientRect|b2ContactListener|in|b2FixtureDef|dragging|b2MouseJointDef||b2BodyDef|b2Shape|b2World|Common|mousemove|setAttribute|progid|startY|round|b2MassData|0px|GetFixtureA|scrollHeight|b2Fixture|GetFixtureB|M11|b2Math|shape|b2CircleShape|xGravity|yGravity|clientX|60|Matrix|startX|pageX|GetTransform|M12|type|innerWidth|GetShape|DXImageTransform|length|scrollWidth|GetType|M21|b2_staticBody|addEventListener|sizingMethod|offsetWidth|M22|offsetHeight|Microsoft|on|RegExp|getElementsByTagName|auto|removeEventListener||expand|pageYOffset|number|gravity|SetContactListener|createElement|filter|firstChild|DrawDebugData|Joints|remove|canvas|exec|viewport|GetBodyList|BeginContact|innerHeight|b2Vec2|margin|appendChild|Msfilter|SetAsBox|SetLineThickness|QueryAABB|ApplyForce|zIndex|collideConnected|EndContact|e_polygonShape|SetSprite|clientY|SetFlags|mouseup|getContext|break|SetDebugDraw|nextSibling|lowerBound|e_shapeBit|delete|SetDrawScale|replace|e_jointBit|switch|SetFillAlpha|pageXOffset|1000|CreateJoint|b2_dynamicBody|TestPoint|impulse|bodyA|MozTransform|attachEvent|mousedown|maxForce|nodeType|ClearForces|DestroyBody|GetGroundBody|GetFixtureList|detachEvent|setInterval|DestroyJoint|CreateBody|upperBound|ApplyImpulse|bodyB|GetAngle|300|load|target|CreateFixture|SetTarget|force|GetMass|case|Step|add|SetUserData|torque|WebkitTransform|padding|MsTransform|ApplyTorque|OTransform|hasBody|transform'.split('|'),0,{}))